name: üöÄ Deploy to Somee Hosting

on:
  push:
    branches:
      - main  # Ch·∫°y khi c√≥ commit l√™n nh√°nh main

jobs:
  deploy:
    name: Upload via FTP
    runs-on: ubuntu-latest

    steps:
      # B∆∞·ªõc 1: L·∫•y source code
      - name: Checkout source code
        uses: actions/checkout@v3

      # (T√πy ch·ªçn) B∆∞·ªõc 2: Build project n·∫øu l√† React/Node/C# static site
      # - name: Build project
      #   run: npm install && npm run build

      # B∆∞·ªõc 3: Deploy qua FTP
      - name: üì§ Upload to Somee via FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: ${{ secrets.FTP_SERVER }}
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          protocol: ftp
          local-dir: ./   # Th∆∞ m·ª•c ngu·ªìn (thay ƒë·ªïi n·∫øu c√≥ folder build)
          server-dir: /wwwroot/  # Th∆∞ m·ª•c ƒë√≠ch tr√™n host (vd: / ho·∫∑c /wwwroot/)
          log-level: minimal
